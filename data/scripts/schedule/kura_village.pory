//////////////////////////////////////
/////////////KURA VILLAGE/////////////
//////////////////////////////////////
const FLAG_HIDE_FARMERS_FLAG_WORK = FLAG_TEMP_1
const FLAG_HIDE_FARMERS_FLAG_LUNCH = FLAG_TEMP_2
const FLAG_HIDE_YOUNG_COUPLE_BOY = FLAG_TEMP_3

script KuraVillage_NPCSchedules{
	setflag(FLAG_TEMP_1)
    setflag(FLAG_TEMP_2)
    setflag(FLAG_TEMP_3)
    gettimeofday
	switch(var(VAR_TIME_OF_DAY)){
        case TIME_DEAD_NIGHT:
            call(KuraVillage_DeadNightSchedules)
        case TIME_EARLY:
            call(KuraVillage_EarlySchedules)
        case TIME_MORNING:
            call(KuraVillage_MorningSchedules)
        case TIME_LUNCHTIME:
            call(KuraVillage_LunchtimeSchedules)
        case TIME_AFTERNOON:
            call(KuraVillage_AfternoonSchedules)
        case TIME_EVENING:
            call(KuraVillage_EveningSchedules)
        case TIME_NIGHT:
            call(KuraVillage_NightSchedules)
    }
}

script(local) KuraVillage_DeadNightSchedules{
    clearflag(FLAG_HIDE_YOUNG_COUPLE_BOY)
}

script(local) KuraVillage_EarlySchedules{
    clearflag(FLAG_HIDE_FARMERS_FLAG_WORK)
}

script(local) KuraVillage_MorningSchedules{
    clearflag(FLAG_HIDE_FARMERS_FLAG_WORK)
    clearflag(FLAG_HIDE_YOUNG_COUPLE_BOY)
}
script(local) KuraVillage_LunchtimeSchedules{
    clearflag(FLAG_HIDE_FARMERS_FLAG_LUNCH)
    clearflag(FLAG_HIDE_YOUNG_COUPLE_BOY)
}
script(local) KuraVillage_AfternoonSchedules{
    clearflag(FLAG_HIDE_FARMERS_FLAG_WORK)
    clearflag(FLAG_HIDE_YOUNG_COUPLE_BOY)
}
script(local) KuraVillage_EveningSchedules{

}
script(local) KuraVillage_NightSchedules{

}

script KuraVillage_DrawMetatiles{
    switch(var(VAR_TIME_OF_DAY)){
        case TIME_DEAD_NIGHT:
            setmetatile(18, 7, METATILE_SakuKura_ClosedDojoDoor, TRUE)
            setmetatile(34, 25, METATILE_SakuKura_ClosedDojoDoor, TRUE)
            setmetatile(43, 23, METATILE_SakuKura_ClosedDojoDoor, TRUE)
        case TIME_EARLY:
            setmetatile(18, 7, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(34, 25, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(43, 23, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
        case TIME_MORNING:
            setmetatile(18, 7, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(34, 25, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(43, 23, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
        case TIME_LUNCHTIME:
            setmetatile(18, 7, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(34, 25, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(43, 23, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
        case TIME_AFTERNOON:
            setmetatile(18, 7, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(34, 25, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(43, 23, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
        case TIME_EVENING:
            setmetatile(18, 7, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(34, 25, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(43, 23, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
        case TIME_NIGHT:
            setmetatile(18, 7, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(34, 25, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
            setmetatile(43, 23, METATILE_PorytilesPrimaryTutorial_OpenDoor, FALSE)
    }
}